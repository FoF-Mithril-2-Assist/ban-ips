{"version":3,"sources":["webpack://@fof/ban-ips/webpack/bootstrap","webpack://@fof/ban-ips/external \"flarum.core.compat['Model']\"","webpack://@fof/ban-ips/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/ban-ips/external \"flarum.core.compat['extend']\"","webpack://@fof/ban-ips/external \"flarum.core.compat['components/Button']\"","webpack://@fof/ban-ips/external \"flarum.core.compat['helpers/username']\"","webpack://@fof/ban-ips/external \"flarum.core.compat['components/Alert']\"","webpack://@fof/ban-ips/external \"flarum.core.compat['models/Forum']\"","webpack://@fof/ban-ips/external \"flarum.core.compat['components/Modal']\"","webpack://@fof/ban-ips/external \"flarum.core.compat['helpers/punctuateSeries']\"","webpack://@fof/ban-ips/./src/common/models/BannedIP.js","webpack://@fof/ban-ips/external \"flarum.core.compat['utils/mixin']\"","webpack://@fof/ban-ips/external \"flarum.core.compat['components/PermissionGrid']\"","webpack://@fof/ban-ips/external \"flarum.core.compat['components/AdminNav']\"","webpack://@fof/ban-ips/external \"flarum.core.compat['components/AdminLinkButton']\"","webpack://@fof/ban-ips/external \"flarum.core.compat['components/Page']\"","webpack://@fof/ban-ips/./src/admin/components/BanIPModal.js","webpack://@fof/ban-ips/./src/admin/components/SettingsPage.js","webpack://@fof/ban-ips/./src/admin/index.js","webpack://@fof/ban-ips/./src/admin/addPermissions.js","webpack://@fof/ban-ips/./src/admin/addSettingsPage.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","_inheritsLoose","subClass","superClass","constructor","__proto__","__webpack_exports__","BannedIP","apiEndpoint","this","exists","id","mixin","Model","creator","hasOne","user","address","attribute","reason","createdAt","transformDate","deletedAt","BanIPModal","init","prop","usersBanned","loading","className","title","app","translator","trans","content","usernames","map","username","type","bidi","required","pattern","length","Alert","component","children","users","punctuateSeries","dismissible","Button_default","a","disabled","store","getBy","onsubmit","e","preventDefault","getOtherUsers","attrs","createRecord","save","then","hide","onerror","loaded","_this","data","ip","request","url","forum","method","errorHandler","res","pushObject","lazyRedraw","Modal","SettingsPage","bannedIPs","all","page","pageSize","pageNumber","Math","ceil","view","Button","icon","onclick","modal","show","style","width","textAlign","class","slice","b","toLocaleDateString","Page","initializers","add","models","banned_ips","Forum","hasMany","extend","PermissionGrid","items","label","permission","routes","path","extensionSettings","route","AdminNav","AdminLinkButton","href","description"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 18);\n","module.exports = flarum.core.compat['Model'];","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['components/Alert'];","module.exports = flarum.core.compat['models/Forum'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['helpers/punctuateSeries'];","import Model from 'flarum/Model';\nimport mixin from 'flarum/utils/mixin';\n\nexport default class BannedIP extends mixin(Model, {\n    creator: Model.hasOne('creator'),\n    user: Model.hasOne('user'),\n    address: Model.attribute('address'),\n    reason: Model.attribute('reason'),\n    createdAt: Model.attribute('createdAt', Model.transformDate),\n    deletedAt: Model.attribute('deletedAt', Model.transformDate),\n}) {\n    apiEndpoint() {\n        return `/fof/ban-ips/bans${this.exists ? `/${this.id()}` : ''}`;\n    }\n}\n","module.exports = flarum.core.compat['utils/mixin'];","module.exports = flarum.core.compat['components/PermissionGrid'];","module.exports = flarum.core.compat['components/AdminNav'];","module.exports = flarum.core.compat['components/AdminLinkButton'];","module.exports = flarum.core.compat['components/Page'];","import Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\nimport Alert from 'flarum/components/Alert';\nimport punctuateSeries from 'flarum/helpers/punctuateSeries';\nimport username from 'flarum/helpers/username';\n\nexport default class BanIPModal extends Modal {\n    init() {\n        this.address = m.prop('');\n        this.reason = m.prop('');\n\n        this.usersBanned = {};\n\n        this.loading = false;\n    }\n\n    className() {\n        return 'Modal--medium';\n    }\n\n    title() {\n        return app.translator.trans('fof-ban-ips.lib.modal.title');\n    }\n\n    content() {\n        const usersBanned = this.usersBanned[this.address()];\n        const usernames = usersBanned && usersBanned.map(username);\n\n        return (\n            <div className=\"Modal-body\">\n                <p>{app.translator.trans('fof-ban-ips.lib.modal.ban_ip_confirmation')}</p>\n\n                <div className=\"Form-group\">\n                    <label className=\"label\">IP Address</label>\n                    <input type=\"text\" className=\"FormControl\" bidi={this.address} required pattern=\"^([0-9]{1,3}\\.){3}[0-9]{1,3}$\" />\n                </div>\n\n                <div className=\"Form-group\">\n                    <label className=\"label\">Reason</label>\n                    <input type=\"text\" className=\"FormControl\" bidi={this.reason} />\n                </div>\n\n                {usersBanned\n                    ? usersBanned.length\n                        ? Alert.component({\n                              children: app.translator.trans('fof-ban-ips.lib.modal.ban_ip_users', { users: punctuateSeries(usernames) }),\n                              dismissible: false,\n                          })\n                        : Alert.component({\n                              children: app.translator.trans('fof-ban-ips.admin.modal.ban_ip_no_users'),\n                              dismissible: false,\n                              type: 'success',\n                          })\n                    : ''}\n\n                {usersBanned && <br />}\n\n                <div className=\"Form-group\">\n                    <Button\n                        className=\"Button Button--primary\"\n                        type=\"submit\"\n                        loading={this.loading}\n                        disabled={app.store.getBy('banned_ips', 'address', this.address())}\n                    >\n                        {usernames\n                            ? app.translator.trans('fof-ban-ips.lib.modal.submit_button')\n                            : app.translator.trans('fof-ban-ips.lib.modal.check_button')}\n                    </Button>\n                </div>\n            </div>\n        );\n    }\n\n    onsubmit(e) {\n        e.preventDefault();\n\n        if (!this.address()) return;\n\n        this.loading = true;\n\n        if (typeof this.usersBanned[this.address()] === 'undefined') return this.getOtherUsers();\n\n        const attrs = {\n            address: this.address(),\n            reason: this.reason(),\n        };\n\n        app.store\n            .createRecord('banned_ips')\n            .save(attrs)\n            .then(this.hide.bind(this), this.onerror.bind(this), this.loaded.bind(this));\n    }\n\n    getOtherUsers() {\n        const data = {\n            ip: this.address(),\n        };\n\n        app.request({\n            data,\n            url: `${app.forum.attribute('apiUrl')}/fof/ban-ips/check-users`,\n            method: 'GET',\n            errorHandler: this.onerror.bind(this),\n        })\n            .then(res => {\n                this.usersBanned[this.address()] = res.data.map(e => app.store.pushObject(e));\n                this.loading = false;\n\n                m.lazyRedraw();\n            })\n            .catch(() => {})\n            .then(this.loaded.bind(this));\n    }\n}\n","import Button from 'flarum/components/Button';\nimport Page from 'flarum/components/Page';\n\nimport username from 'flarum/helpers/username';\nimport BanIPModal from './BanIPModal';\n\nexport default class SettingsPage extends Page {\n    init() {\n        const bannedIPs = app.store.all('banned_ips');\n\n        this.page = 0;\n        this.pageSize = 20;\n        this.pageNumber = Math.ceil(bannedIPs.length / this.pageSize);\n    }\n\n    view() {\n        return (\n            <div className=\"BannedIPsPage\">\n                <div className=\"BannedIPsPage-header\">\n                    <div className=\"container\">\n                        <p>{app.translator.trans('fof-ban-ips.admin.page.about_text')}</p>\n                        {Button.component({\n                            className: 'Button Button--primary',\n                            icon: 'fas fa-plus',\n                            children: app.translator.trans('fof-ban-ips.admin.page.create_button'),\n                            onclick: () => app.modal.show(new BanIPModal()),\n                        })}\n                    </div>\n                </div>\n                <br />\n                <div className=\"BannedIpsPage-table\">\n                    <div className=\"container\">\n                        <table style={{ width: '100%', textAlign: 'left' }} class=\"table\">\n                            <thead>\n                                <tr>\n                                    <th>#</th>\n                                    <th>Creator</th>\n                                    <th>User</th>\n                                    <th>Address</th>\n                                    <th>Reason</th>\n                                    <th>Date</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {app.store\n                                    .all('banned_ips')\n                                    .slice(this.page, this.page + this.pageSize)\n                                    .map(b => (\n                                        <tr>\n                                            <td>{b.id()}</td>\n                                            <td>{username(b.creator())}</td>\n                                            <td>{username(b.user())}</td>\n                                            <td>{b.address()}</td>\n                                            <td>{b.reason()}</td>\n                                            <td>{b.createdAt().toLocaleDateString()}</td>\n                                        </tr>\n                                    ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","import Model from 'flarum/Model';\nimport Forum from 'flarum/models/Forum';\n\nimport BannedIP from '../common/models/BannedIP';\nimport addPermissions from './addPermissions';\nimport addSettingsPage from './addSettingsPage';\n\napp.initializers.add('fof/ban-ips', () => {\n    app.store.models.banned_ips = BannedIP;\n\n    Forum.prototype.bannedIPs = Model.hasMany('banned_ips');\n\n    addPermissions();\n    addSettingsPage();\n});\n","import { extend } from 'flarum/extend';\nimport PermissionGrid from 'flarum/components/PermissionGrid';\n\nexport default () => {\n    extend(PermissionGrid.prototype, 'moderateItems', items => {\n        items.add('viewBannedIPList', {\n            icon: 'fas fa-gavel',\n            label: app.translator.trans('fof-ban-ips.admin.permissions.view_banned_ip_list_label'),\n            permission: 'fof.ban-ips.viewBannedIPList',\n        });\n\n        items.add('banIP', {\n            icon: 'fas fa-gavel',\n            label: app.translator.trans('fof-ban-ips.admin.permissions.ban_ip_label'),\n            permission: 'fof.ban-ips.banIP',\n        });\n    });\n};\n","import { extend } from 'flarum/extend';\nimport AdminNav from 'flarum/components/AdminNav';\nimport AdminLinkButton from 'flarum/components/AdminLinkButton';\n\nimport SettingsPage from './components/SettingsPage';\n\nexport default () => {\n    app.routes['fof-ban-ips'] = { path: '/fof/ban-ips', component: SettingsPage.component() };\n\n    app.extensionSettings['fof-ban-ips'] = () => m.route(app.route('fof-ban-ips'));\n\n    extend(AdminNav.prototype, 'items', items => {\n        items.add(\n            'fof-ban-ips',\n            AdminLinkButton.component({\n                href: app.route('fof-ban-ips'),\n                icon: 'fas fa-gavel',\n                children: app.translator.trans('fof-ban-ips.admin.nav.title'),\n                description: app.translator.trans('fof-ban-ips.admin.nav.desc'),\n            })\n        );\n    });\n};\n"],"sourceRoot":""}